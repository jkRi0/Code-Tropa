<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stopwatch</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 20px; }
    #time { font-size: 2em; }
  </style>
</head>
<body>
  <h2>Stopwatch</h2>
  <div id="time">0</div>

  <script>
    // setInterval(() => {
    //   location.reload();
    //   console.log("Page reloaded");
    // }, 1000);


    let counter = 0;
    let interval = null;

    function updateDisplay() {
      document.getElementById('time').textContent = counter;
    }

    function start() {
      if (interval === null) {
        interval = setInterval(() => {
            counter++;
            updateDisplay();
        }, 1000);
      }
    }

    function stop() {
      clearInterval(interval);
      interval = null;
    }

    function reset() {
      stop();
      counter = 0;
      updateDisplay();
    }

    // Listen for messages from parent
    window.addEventListener('message', (event) => {
      const { action } = event.data;
      if (action === 'start') start();
      else if (action === 'stop') stop();
      else if (action === 'reset') reset();
    });

    // Optional: Start paused by default
    updateDisplay();
  </script>
</body>
</html>
